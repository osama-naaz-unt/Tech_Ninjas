{% extends 'base.html' %}

{% load static %}

{% block content %}

    <!-- Shop Section -->
    <section class="py-16">
        <div class="container mx-auto px-6">
            {% if search_query %}
            <h1 class="text-3xl font-bold text-gray-800 mb-6">Showing '{{ search_query }}' results</h1>
            {% else %}
            <h1 class="text-3xl font-bold text-gray-800 mb-6">Shop Our Products</h1>
            {% endif %}

            <!-- Filters and Sort -->
            <form method="get" class="mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                        <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                        <select name="category" id="category" class="w-full bg-white border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">All Categories</option>
                            {% for category in categories %}
                                <option value="{{ category.name }}" {% if category.name == current_category %}selected{% endif %}>
                                    {{ category.name }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label for="sort" class="block text-sm font-medium text-gray-700 mb-2">Sort By</label>
                        <select name="sort" id="sort" class="w-full bg-white border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="latest" {% if current_sort == 'latest' %}selected{% endif %}>Latest</option>
                            <option value="price_low" {% if current_sort == 'price_low' %}selected{% endif %}>Price: Low to High</option>
                            <option value="price_high" {% if current_sort == 'price_high' %}selected{% endif %}>Price: High to Low</option>
                            <option value="rating" {% if current_sort == 'rating' %}selected{% endif %}>Highest Rated</option>
                        </select>
                    </div>
                    <div>
                        <label for="price_range" class="block text-sm font-medium text-gray-700 mb-2">Price Range</label>
                        <div class="flex space-x-2">
                            <input type="number" name="min_price" id="min_price" placeholder="Min" value="{{ current_min_price }}"
                                   class="w-1/2 bg-white border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <input type="number" name="max_price" id="max_price" placeholder="Max" value="{{ current_max_price }}"
                                   class="w-1/2 bg-white border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <div>
